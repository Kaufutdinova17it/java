# Лабораторная работа 4
# Вариант 5

# **Задание 1. Обобщённые типы и типовые переменные**

## **1.1 Обобщённая коробка `Box<T>`**

### **Требования**
- Хранить один произвольный объект.
- Методы: `put()`, `get()`, `isEmpty()`.
- При попытке положить объект в заполненную коробку — исключение.
- Тип объекта задаётся при создании коробки.

### **Реализация**
Класс `Box<T>` содержит поле `private T item`.  
Метод `put()` проверяет, пуста ли коробка, и выбрасывает `IllegalStateException`, если нет.  
Метод `get()` возвращает объект и очищает коробку.

### **Демонстрация (Main.java)**
- Создана коробка для `Integer`.
- Введено число `5`, помещено в коробку.
- Попытка положить `10` вызывает исключение.
- Значение извлечено, коробка снова пуста.

**Вывод:** реализация корректна, типобезопасность соблюдена.

---

## **1.2 Хранилище `Storage<T>`**

### **Требования**
- Неизменяемо после создания.
- Хранит основной объект и альтернативу.
- Если основной объект `null`, возвращается альтернатива.
- Метод `get()` возвращает объект нужного типа.

### **Реализация**
Класс содержит два `final` поля: `item` и `alternative`.  
Метод `get()` использует тернарный оператор для выбора значения.

### **Демонстрация**
- `Storage<Integer>(null, 0)` → `0`
- `Storage<Integer>(99, -1)` → `99`
- `Storage<String>(null, "default")` → `"default"`
- `Storage<String>("hello", "hello world")` → `"hello"`

**Вывод:** логика работы с `null` реализована корректно.

---

## **1.3 Коробка с трёхмерной точкой `Box<Point3D>`**

### **Требования**
- Создать метод, который принимает коробку и кладёт в неё трёхмерную точку.
- Метод должен быть обобщённым и работать с коробками разных типов.

### **Реализация**
- Создан класс `Point3D` с полями `x`, `y`, `z`, геттерами и `toString()`.
- В Main добавлен метод:

```java
public static <T> void putInBox(Box<T> box, T item)
```

- В `demonstrateBoxWithPoint()` показана работа с коробками `Point3D`, `String`, `Integer`.

### **Демонстрация**
- Создана коробка для `Point3D`.
- Введены координаты (например, `1.0`, `2.5`, `-3.0`).
- Точка помещена в коробку через `putInBox()`.
- Точка извлечена и выведена.

**Вывод:** обобщённый метод позволяет работать с коробками любого типа.

---

# **Задание 2. Функциональные интерфейсы**

Созданы собственные функциональные интерфейсы:

- **`Predicate<T>`** — метод `boolean test(T t)`
- **`Function<T, R>`** — метод `R apply(T t)`
- **`BinaryOperator<T>`** — метод `T apply(T t1, T t2)`

Они аналогичны интерфейсам из `java.util.function` и используются в обобщённых методах.

---

# **Задание 3. Обобщённые методы (`GenericUtils`)**

Класс содержит четыре универсальные операции над коллекциями.

---

## **3.1 `map` — преобразование списка**

### **Сигнатура**
```java
<T, R> List<R> map(List<T> list, Function<T, R> function)
```

### **Назначение**
Применить функцию к каждому элементу списка и вернуть новый список результатов.

### **Демонстрация**
- Строки → длины строк  
- Числа → абсолютные значения  
- Массивы → максимальные элементы  

**Вывод:** метод корректно преобразует элементы в другой тип.

---

## **3.2 `filter` — фильтрация списка**

### **Сигнатура**
```java
<T> List<T> filter(List<T> list, Predicate<T> predicate)
```

### **Назначение**
Оставить только те элементы, для которых предикат возвращает `true`.

### **Демонстрация**
- Строки длиной ≥ 3  
- Положительные числа  
- Массивы без положительных элементов  

**Вывод:** фильтрация работает корректно, создаётся новый список.

---

## **3.3 `reduce` — свёртка списка**

### **Сигнатура**
```java
<T> T reduce(List<T> list, BinaryOperator<T> operator, T identity)
```

### **Назначение**
Последовательно применять оператор к элементам списка, начиная с начального значения.

### **Демонстрация**
- Конкатенация строк  
- Сумма чисел  
- Подсчёт общего количества элементов во вложенных списках  

**Вывод:** метод корректно сворачивает список в одно значение и обрабатывает пустые списки.

---

## **3.4 `collect` — сборка элементов в контейнер**

### **Сигнатура**
```java
<T, R> R collect(List<T> list, Supplier<R> supplier, BiConsumer<R, T> accumulator)
```

### **Назначение**
Собрать элементы списка в структуру данных, создаваемую `supplier`, с помощью `accumulator`.

### **Демонстрация**
- Группировка чисел на положительные, отрицательные и нули  
- Группировка строк по длине  
- Сбор уникальных строк в `HashSet`  

**Вывод:** метод универсален и подходит для сборки в любые структуры данных.

